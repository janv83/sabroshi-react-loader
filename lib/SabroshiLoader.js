(()=>{"use strict";var e={n:a=>{var o=a&&a.__esModule?()=>a.default:()=>a;return e.d(o,{a:o}),o},d:(a,o)=>{for(var t in o)e.o(o,t)&&!e.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:o[t]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},a={};e.r(a),e.d(a,{default:()=>n});const o=require("react");var t=e.n(o);async function r(e,a,o,t){const n=new Run({network:"main",trust:"*"}),s=new Run.plugins.RunConnect;n.cache=s,n.client=o;try{let o=await async function(e,a){e.activate();let o=await e.load(a);return await o.sync({inner:!1}),window.localStorage.sabroshiAvatar=o.location,o}(n,window.localStorage.sabroshiAvatar);if(o&&o.owner===o.activeSabroshi.owner){let r=new Image,n="data:image/png;base64,"+o.activeSabroshi.metadata.image.base64Data;window.localStorage.sabroshiDataURL=n,window.localStorage.sabroshiName=o.name,window.localStorage.sabroshiBio=o.bio,t&&(r.src=n,r.className="sabroshiPicture",e&&a&&(r.width=e,r.height=a),document.getElementById("sabroshiContainer").append(r))}else console.log("sabroshi is not the same owner as sabroshiAvatar, setting of new Sabroshi is neeeded")}catch(o){console.log("run error "+o.message),o.message.includes("ClientModeError")&&await r(e,a,!1,t)}}const n=function(e){let[a,n]=(0,o.useState)(!1),s=e.sabroshiAvatar;return(0,o.useEffect)((()=>{s=function(e){var a=window.location.search.substring(1);console.log(a);var o=a.split("&");console.log(o);for(var t=0;t<o.length;t++){var r=o[t].split("=");if(console.log(r),"sabroshiAvatar"==r[0])return r[1]}return!1}();let a=e.display;if(null!==e.display&&""!==e.display&&void 0!==e.display||(a=!0),s||(s=e.sabroshiAvatar),"disconnect"===s)window.localStorage.removeItem("sabroshiAvatar"),window.localStorage.removeItem("sabroshiDataURL"),window.localStorage.removeItem("sabroshiName"),window.localStorage.removeItem("sabroshiBio"),window.localStorage.sabroshiDisconnect=!0;else if(s||window.localStorage.sabroshiAvatar){s&&(window.localStorage.sabroshiAvatar=s,window.localStorage.sabroshiDisconnect=!1);const o=document.createElement("script");o.type="text/javascript",o.src="https://bico.media/2ae5137168cb00d204becebe83bc54af863392bcbc3f0da0340363aa263c6ed1.js",o.async="true",o.addEventListener("load",(()=>{console.log("bsvloaded");const o=document.createElement("script");o.type="text/javascript",o.src="https://bico.media/7429a95bf9f7d1b9bebd05031f7bd32aa2f00e97e01271ec182294f1cdb65642.js",o.async="true",o.addEventListener("load",(()=>{console.log("runloaded"),r(e.width,e.height,!1,a).then((()=>{n(!0)}))})),document.body.appendChild(o)})),document.body.appendChild(o)}}),[]),t().createElement("div",{id:"sabroshiContainer"})};module.exports=a})();