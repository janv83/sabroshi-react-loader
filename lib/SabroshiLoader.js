(()=>{"use strict";var e={n:a=>{var t=a&&a.__esModule?()=>a.default:()=>a;return e.d(t,{a:t}),t},d:(a,t)=>{for(var o in t)e.o(t,o)&&!e.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:t[o]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},a={};e.r(a),e.d(a,{default:()=>r});const t=require("react");var o=e.n(t);async function n(e,a,t){const o=new Run({network:"main",trust:"*"}),r=new Run.plugins.RunConnect;o.cache=r,o.client=t;try{let t=await async function(e,a){e.activate();let t=await e.load(a);return await t.sync({inner:!1}),window.localStorage.sabroshiAvatar=t.location,t}(o,window.localStorage.sabroshiAvatar);if(t&&t.owner===t.activeSabroshi.owner){let o=new Image;o.src="data:image/png;base64,"+t.activeSabroshi.metadata.image.base64Data,window.localStorage.sabroshiDataURL=o.src,o.className="sabroshiPicture",e&&a&&(o.width=e,o.height=a),document.getElementById("sabroshiContainer").append(o)}else console.log("sabroshi is not the same owner as sabroshiAvatar, setting of new Sabroshi is neeeded")}catch(t){console.log("run error "+t.message),t.message.includes("ClientModeError")&&await n(e,a,!1)}}const r=function(e){let[a,r]=(0,t.useState)(!1),s=e.sabroshiAvatar;return(0,t.useEffect)((()=>{if(s=function(e){var a=window.location.search.substring(1);console.log(a);var t=a.split("&");console.log(t);for(var o=0;o<t.length;o++){var n=t[o].split("=");if(console.log(n),"sabroshiAvatar"==n[0])return n[1]}return!1}(),s||(s=e.sabroshiAvatar),s||window.localStorage.sabroshiAvatar)if(s&&"disconnect"!==s){window.localStorage.sabroshiAvatar=s,window.localStorage.sabroshiDisconnect=!1;const a=document.createElement("script");a.type="text/javascript",a.src="https://bico.media/2ae5137168cb00d204becebe83bc54af863392bcbc3f0da0340363aa263c6ed1.js",a.async="true",a.addEventListener("load",(()=>{console.log("bsvloaded");const a=document.createElement("script");a.type="text/javascript",a.src="https://bico.media/7429a95bf9f7d1b9bebd05031f7bd32aa2f00e97e01271ec182294f1cdb65642.js",a.async="true",a.addEventListener("load",(()=>{console.log("runloaded"),n(e.width,e.height,!1).then((()=>{r(!0)}))})),document.body.appendChild(a)})),document.body.appendChild(a)}else if("disconnect"===s)window.localStorage.removeItem("sabroshiAvatar"),window.localStorage.removeItem("sabroshiDataURL"),window.localStorage.sabroshiDisconnect=!0;else{const a=document.createElement("script");a.type="text/javascript",a.src="https://bico.media/2ae5137168cb00d204becebe83bc54af863392bcbc3f0da0340363aa263c6ed1.js",a.async="true",a.addEventListener("load",(()=>{console.log("bsvloaded");const a=document.createElement("script");a.type="text/javascript",a.src="https://bico.media/7429a95bf9f7d1b9bebd05031f7bd32aa2f00e97e01271ec182294f1cdb65642.js",a.async="true",a.addEventListener("load",(()=>{console.log("runloaded"),n(e.width,e.height,!1).then((()=>{r(!0)}))})),document.body.appendChild(a)})),document.body.appendChild(a)}}),[]),o().createElement("div",{id:"sabroshiContainer"})};module.exports=a})();